---
import Head from "./Head.astro"
import { author_email, site_title } from "../site.config"
import "../styles/global.css"

interface Props {
  title?: string
  desc?: string
}

const { title, desc } = Astro.props
const { pathname } = Astro.url

const isActive = (href: string) =>
  href === pathname || href === pathname.replace(/\/$/, "")
---

<!doctype html>
<html lang="en">
  <Head title={title} description={desc} />
  <body>
    <header
      class:list={[
        "flex items-center justify-between",
        "container mx-auto px-4 py-6",
      ]}>
      <a href="/" title={site_title} class="h-9">
        <img src="/favicon.svg" alt="fire flame" />
      </a>
      <nav class="space-x-2">
        <a
          href="/blog"
          class:list={[
            "inline-block transition hover:text-glow20 u-underline",
            { "text-glow20 u-underline-active": isActive("/blog") },
          ]}>
          Blog
        </a>
        <a
          href="/about"
          class:list={[
            "inline-block transition hover:text-glow20 u-underline",
            { "text-glow20 u-underline-active": isActive("/about") },
          ]}>
          About
        </a>
      </nav>
    </header>

    <main class="container mx-auto px-4 py-6">
      <slot />
    </main>

    <footer
      class:list={[
        "flex flex-col items-center justify-center py-12",
        "font-jost text-text30",
      ]}>
      <p class="text-sm flex items-center space-x-2">
        <a href="/" title={site_title}>
          <img src="/flames/colored-flame.svg" width="13" height="13" />
        </a>
        <span>
          Copyright Â© <time>{new Date().getFullYear()}</time>
          <a class="hover:text-glow20" href={`mailto:${author_email}`}>
            <strong>iwfan</strong>.
          </a>
        </span>
        <a
          class="hover:text-glow20"
          target="_blank"
          title="Attribution 4.0 International"
          href="https://creativecommons.org/licenses/by/4.0/"
          rel="noreferrer">
          <em>CC BY 4.0</em>
        </a>
      </p>
    </footer>
  </body>
</html>
